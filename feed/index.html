<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>刘兰法De博客</title><link>/</link><description>Remote Sensing Data Science</description><atom:link href="/feed/index.html" rel="self"></atom:link><lastBuildDate>Sat, 12 Dec 2015 12:00:00 +0800</lastBuildDate><item><title>Least Square, KNN</title><link>/2015/12/least-square-knn/</link><description>&lt;h3&gt;Least Square&lt;/h3&gt;
&lt;div class="math"&gt;$$ \hat{Y} = X^T \hat{\beta} $$&lt;/div&gt;
&lt;div class="math"&gt;$$ RSS(\beta) = \sum_{i=1}^N (y_i-x_i^T\beta)^2  \text {, 误差平方和}$$&lt;/div&gt;
&lt;div class="math"&gt;$$ RSS(\beta) = tr[(Y-X\beta)^T(Y-X\beta)] \text {, 矩阵的迹}$$&lt;/div&gt;
&lt;div class="math"&gt;$$ X^T(Y-X\beta) = 0  \text {, 对矩阵的迹求导}$$&lt;/div&gt;
&lt;div class="math"&gt;$$ \beta = (X^TX)^{-1}X^TY \text {, 最小二乘矩阵形式} $$&lt;/div&gt;
&lt;p&gt;Code Example&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# http://blog.csdn.net/u012176591/article/details/36930727&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;loadData&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;0.02&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mf"&gt;0.6&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="c"&gt;#生成的曲线上的各个点偏移一下，并放入到xa,ya中去&lt;/span&gt;
    &lt;span class="n"&gt;xr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[];&lt;/span&gt;&lt;span class="n"&gt;yr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[];&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;xx&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;120&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;
        &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="n"&gt;xr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;yr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yr&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;XY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;order&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;order&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;
    &lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;figPlot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;g&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;m&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;    
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;loadData&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;XY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;XT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transpose&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="c"&gt;#XµÄ×ªÖÃ&lt;/span&gt;
    &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;linalg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;inv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;XT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;&lt;span class="n"&gt;XT&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="c"&gt;#Ì×ÓÃ×îÐ¡¶þ³Ë·¨¹«Ê½&lt;/span&gt;
    &lt;span class="n"&gt;myY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;figPlot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;myY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;最小二乘有较低的方差，但可能会有较高的偏差 ？&lt;/p&gt;
&lt;p&gt;最小二乘为什么选择误差平方和而不是误差绝对值的和
http://blog.sciencenet.cn/blog-430956-621997.html
http://sbp810050504.blog.51cto.com/2799422/1269572&lt;/p&gt;
&lt;h3&gt;KNN 最临近值&lt;/h3&gt;
&lt;p&gt;$ \hat{y}= mean(y_i|x_i \in N_k(x)) $&lt;/p&gt;
&lt;p&gt;参考
The Elements of Statistical Learning, http://statweb.stanford.edu/~tibs/ElemStatLearn/
http://blog.csdn.net/acdreamers/article/details/44662633&lt;/p&gt;
&lt;p&gt;https://www.zybuluo.com/codeep/note/163962&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Lanfa</dc:creator><pubDate>Sat, 12 Dec 2015 12:00:00 +0800</pubDate><guid>tag:,2015-12-12:2015/12/least-square-knn/</guid><category>Statistical Learning</category><category>Least Square</category><category>KNN</category></item><item><title>PCA implementation in Python, R and ENVI</title><link>/2015/11/pca-implementation-in-python-r-and-envi/</link><description>&lt;h3&gt;PCA in Python&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.decomposition&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PCA&lt;/span&gt;

&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;E:/CropLand/Crop_B19.csv&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;cropB12&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;cropB12_spc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cropB12&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;X400&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;X410&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;cropB12_spc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;X400&lt;/th&gt;
      &lt;th&gt;X400.5&lt;/th&gt;
      &lt;th&gt;X401&lt;/th&gt;
      &lt;th&gt;X401.5&lt;/th&gt;
      &lt;th&gt;X402&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;0.670830&lt;/td&gt;
      &lt;td&gt;0.681216&lt;/td&gt;
      &lt;td&gt;0.691536&lt;/td&gt;
      &lt;td&gt;0.701762&lt;/td&gt;
      &lt;td&gt;0.711861&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;0.656418&lt;/td&gt;
      &lt;td&gt;0.666273&lt;/td&gt;
      &lt;td&gt;0.676063&lt;/td&gt;
      &lt;td&gt;0.685753&lt;/td&gt;
      &lt;td&gt;0.695310&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;0.704854&lt;/td&gt;
      &lt;td&gt;0.714867&lt;/td&gt;
      &lt;td&gt;0.724823&lt;/td&gt;
      &lt;td&gt;0.734685&lt;/td&gt;
      &lt;td&gt;0.744426&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;0.820656&lt;/td&gt;
      &lt;td&gt;0.830459&lt;/td&gt;
      &lt;td&gt;0.840194&lt;/td&gt;
      &lt;td&gt;0.849830&lt;/td&gt;
      &lt;td&gt;0.859331&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;0.769865&lt;/td&gt;
      &lt;td&gt;0.780363&lt;/td&gt;
      &lt;td&gt;0.790798&lt;/td&gt;
      &lt;td&gt;0.801132&lt;/td&gt;
      &lt;td&gt;0.811335&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;cropB12_spc = cropB12.ix[0:23,&amp;quot;X400&amp;quot;:&amp;quot;X410&amp;quot;]
pca = PCA(n_components=3)
pca_cropB12_spc = pca.fit_transform(cropB12_spc)
pca_cropB12_spc = pd.DataFrame(pca_cropB12_spc)
pca_cropB12_spc.head()
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;-0.072127&lt;/td&gt;
      &lt;td&gt;-0.036489&lt;/td&gt;
      &lt;td&gt;0.000217&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;-0.163397&lt;/td&gt;
      &lt;td&gt;-0.021021&lt;/td&gt;
      &lt;td&gt;-0.000900&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;0.067489&lt;/td&gt;
      &lt;td&gt;-0.026726&lt;/td&gt;
      &lt;td&gt;-0.000653&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;0.586425&lt;/td&gt;
      &lt;td&gt;-0.019416&lt;/td&gt;
      &lt;td&gt;-0.001629&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;0.385222&lt;/td&gt;
      &lt;td&gt;-0.038150&lt;/td&gt;
      &lt;td&gt;-0.000567&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;cropB12_spc = cropB12.ix[0:23,&amp;quot;X400&amp;quot;:&amp;quot;X420&amp;quot;]
pca = PCA(n_components=3)
pca_cropB12_spc = pca.fit_transform(cropB12_spc)
pca_cropB12_spc = pd.DataFrame(pca_cropB12_spc)
pca_cropB12_spc.head()
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;0.037625&lt;/td&gt;
      &lt;td&gt;-0.075727&lt;/td&gt;
      &lt;td&gt;-0.003922&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;0.200872&lt;/td&gt;
      &lt;td&gt;-0.036732&lt;/td&gt;
      &lt;td&gt;0.004223&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;-0.131656&lt;/td&gt;
      &lt;td&gt;-0.045013&lt;/td&gt;
      &lt;td&gt;0.005044&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;-0.846203&lt;/td&gt;
      &lt;td&gt;-0.024742&lt;/td&gt;
      &lt;td&gt;0.006067&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;-0.598328&lt;/td&gt;
      &lt;td&gt;-0.066553&lt;/td&gt;
      &lt;td&gt;0.003492&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;cropB12_spc = cropB12.ix[0:12,&amp;quot;X400&amp;quot;:&amp;quot;X410&amp;quot;]
pca = PCA(n_components=3)
pca_cropB12_spc = pca.fit_transform(cropB12_spc)
pca_cropB12_spc = pd.DataFrame(pca_cropB12_spc)
pca_cropB12_spc.head()
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;0.006547&lt;/td&gt;
      &lt;td&gt;0.030417&lt;/td&gt;
      &lt;td&gt;-0.000545&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;-0.085377&lt;/td&gt;
      &lt;td&gt;0.019509&lt;/td&gt;
      &lt;td&gt;0.000795&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;0.145507&lt;/td&gt;
      &lt;td&gt;0.013740&lt;/td&gt;
      &lt;td&gt;0.000228&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;0.663441&lt;/td&gt;
      &lt;td&gt;-0.019322&lt;/td&gt;
      &lt;td&gt;0.000683&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;0.463415&lt;/td&gt;
      &lt;td&gt;0.009372&lt;/td&gt;
      &lt;td&gt;-0.000299&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;cropB12_spc = cropB12.ix[0:23,&amp;quot;X400&amp;quot;:&amp;quot;X410&amp;quot;]
pca = PCA(n_components=8)
pca_cropB12_spc = pca.fit_transform(cropB12_spc)
pca_cropB12_spc = pd.DataFrame(pca_cropB12_spc)
pca_cropB12_spc.head().ix[:,0:4]
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;-0.072127&lt;/td&gt;
      &lt;td&gt;-0.036489&lt;/td&gt;
      &lt;td&gt;0.000217&lt;/td&gt;
      &lt;td&gt;-0.000129&lt;/td&gt;
      &lt;td&gt;0.000016&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;-0.163397&lt;/td&gt;
      &lt;td&gt;-0.021021&lt;/td&gt;
      &lt;td&gt;-0.000900&lt;/td&gt;
      &lt;td&gt;-0.000081&lt;/td&gt;
      &lt;td&gt;-0.000009&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;0.067489&lt;/td&gt;
      &lt;td&gt;-0.026726&lt;/td&gt;
      &lt;td&gt;-0.000653&lt;/td&gt;
      &lt;td&gt;0.000113&lt;/td&gt;
      &lt;td&gt;0.000015&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;0.586425&lt;/td&gt;
      &lt;td&gt;-0.019416&lt;/td&gt;
      &lt;td&gt;-0.001629&lt;/td&gt;
      &lt;td&gt;-0.000008&lt;/td&gt;
      &lt;td&gt;-0.000006&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;0.385222&lt;/td&gt;
      &lt;td&gt;-0.038150&lt;/td&gt;
      &lt;td&gt;-0.000567&lt;/td&gt;
      &lt;td&gt;-0.000051&lt;/td&gt;
      &lt;td&gt;-0.000017&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;h3&gt;PCA in ENVI&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;idlpy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;IDL&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;IDL Version 8.5, Microsoft Windows (Win32 x86_64 m64).
(c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;cropB12_spc = cropB12.ix[0:23,&amp;quot;X400&amp;quot;:&amp;quot;X410&amp;quot;]
a = cropB12_spc.as_matrix().T
a.shape
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;(21L, 24L)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;cropB12_spc_reshape = a.reshape(21,4,6)
list(cropB12_spc_reshape[:,0,0])[0:5]
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;[0.6708305,
 0.68121599999999993,
 0.69153599999999993,
 0.701762,
 0.71186149999999992]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;e = IDL.ENVI()
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;% Restored file: ENVI.
% Loaded DLM: HPGRAPHICS.
% Loaded DLM: XML.
% Loaded DLM: PNG.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;new_raster = IDL.ENVIRaster(cropB12_spc_reshape)
new_raster.save()
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;% Loaded DLM: NATIVE.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Task = IDL.ENVITask(&amp;#39;ForwardPCATransform&amp;#39;) 
Task.INPUT_RASTER = new_raster 
Task.OUTPUT_RASTER_URI = e.GetTemporaryFilename() 
Task.Execute()
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;% Loaded DLM: LAPACK.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ENVI_PCA = Task.Output_Raster.GetData()
ENVI_PCA = ENVI_PCA.reshape(21,24).T
ENVI_PCA = pd.DataFrame(ENVI_PCA)
ENVI_PCA.head().ix[:,0:4]
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;-0.072127&lt;/td&gt;
      &lt;td&gt;0.036489&lt;/td&gt;
      &lt;td&gt;0.000217&lt;/td&gt;
      &lt;td&gt;-0.000129&lt;/td&gt;
      &lt;td&gt;-0.000016&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;-0.163397&lt;/td&gt;
      &lt;td&gt;0.021021&lt;/td&gt;
      &lt;td&gt;-0.000900&lt;/td&gt;
      &lt;td&gt;-0.000081&lt;/td&gt;
      &lt;td&gt;0.000009&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;0.067489&lt;/td&gt;
      &lt;td&gt;0.026726&lt;/td&gt;
      &lt;td&gt;-0.000653&lt;/td&gt;
      &lt;td&gt;0.000113&lt;/td&gt;
      &lt;td&gt;-0.000015&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;0.586425&lt;/td&gt;
      &lt;td&gt;0.019416&lt;/td&gt;
      &lt;td&gt;-0.001629&lt;/td&gt;
      &lt;td&gt;-0.000008&lt;/td&gt;
      &lt;td&gt;0.000006&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;0.385222&lt;/td&gt;
      &lt;td&gt;0.038150&lt;/td&gt;
      &lt;td&gt;-0.000567&lt;/td&gt;
      &lt;td&gt;-0.000051&lt;/td&gt;
      &lt;td&gt;0.000017&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;h3&gt;PCA in R&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;rpy2&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;robjects&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;rpy2.robjects&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;pandas2ri&lt;/span&gt;
&lt;span class="n"&gt;pandas2ri&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;activate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;# http://gastonsanchez.com/blog/how-to/2012/06/17/PCA-in-R.html
# the PCA is supposed to be performed with standardized data (mean = 0, variance = 1).
#However, in the following methods, the scale in set to false.
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;robjects&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="s1"&gt;        pca1 &amp;lt;- function(data){&lt;/span&gt;
&lt;span class="s1"&gt;        pca1 = prcomp(data, scale. = FALSE)&lt;/span&gt;
&lt;span class="s1"&gt;        return(pca1$x)&lt;/span&gt;
&lt;span class="s1"&gt;        }&lt;/span&gt;

&lt;span class="s1"&gt;        pca2 &amp;lt;- function(data){&lt;/span&gt;
&lt;span class="s1"&gt;        pca2 = princomp(data, cor = FALSE)&lt;/span&gt;
&lt;span class="s1"&gt;        return(pca2$scores)&lt;/span&gt;
&lt;span class="s1"&gt;        }&lt;/span&gt;

&lt;span class="s1"&gt;        pca3 &amp;lt;- function(data){&lt;/span&gt;
&lt;span class="s1"&gt;        library(FactoMineR)&lt;/span&gt;
&lt;span class="s1"&gt;            pca3 = PCA(data, graph = FALSE,scale.unit = FALSE)&lt;/span&gt;
&lt;span class="s1"&gt;        return(pca3)&lt;/span&gt;
&lt;span class="s1"&gt;        }&lt;/span&gt;

&lt;span class="s1"&gt;    &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;#&lt;/span&gt;&lt;span class="nf"&gt;pca3_R&lt;/span&gt;&lt;span class="x"&gt; = robjects.r[&amp;#39;pca3&amp;#39;]&lt;/span&gt;
&lt;span class="cp"&gt;#&lt;/span&gt;&lt;span class="nf"&gt;pca1_R_Resutls&lt;/span&gt;&lt;span class="x"&gt; = pca3_R(cropB12_spc)&lt;/span&gt;
&lt;span class="cp"&gt;#&lt;/span&gt;&lt;span class="nf"&gt;np&lt;/span&gt;&lt;span class="x"&gt;.array(pca1_R_Resutls[2][0])&lt;/span&gt;
&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="x"&gt; is equal to&lt;/span&gt;
&lt;span class="cp"&gt;#&lt;/span&gt;&lt;span class="nf"&gt;pca3&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;ind&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;coord&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;pca3_R = robjects.r[&amp;#39;pca3&amp;#39;]
pca3_R_Resutls = pca3_R(cropB12_spc)
pd.DataFrame(np.array(pca3_R_Resutls[2][0])).head()
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;-0.072127&lt;/td&gt;
      &lt;td&gt;0.036489&lt;/td&gt;
      &lt;td&gt;-0.000217&lt;/td&gt;
      &lt;td&gt;-0.000129&lt;/td&gt;
      &lt;td&gt;-0.000016&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;-0.163397&lt;/td&gt;
      &lt;td&gt;0.021021&lt;/td&gt;
      &lt;td&gt;0.000900&lt;/td&gt;
      &lt;td&gt;-0.000081&lt;/td&gt;
      &lt;td&gt;0.000009&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;0.067489&lt;/td&gt;
      &lt;td&gt;0.026726&lt;/td&gt;
      &lt;td&gt;0.000653&lt;/td&gt;
      &lt;td&gt;0.000113&lt;/td&gt;
      &lt;td&gt;-0.000015&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;0.586425&lt;/td&gt;
      &lt;td&gt;0.019416&lt;/td&gt;
      &lt;td&gt;0.001629&lt;/td&gt;
      &lt;td&gt;-0.000008&lt;/td&gt;
      &lt;td&gt;0.000006&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;0.385222&lt;/td&gt;
      &lt;td&gt;0.038150&lt;/td&gt;
      &lt;td&gt;0.000567&lt;/td&gt;
      &lt;td&gt;-0.000051&lt;/td&gt;
      &lt;td&gt;0.000017&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Lanfa</dc:creator><pubDate>Thu, 26 Nov 2015 12:00:00 +0800</pubDate><guid>tag:,2015-11-26:2015/11/pca-implementation-in-python-r-and-envi/</guid><category>Python</category><category>R</category><category>ENVI</category><category>IDL</category><category>PCA</category></item><item><title>Example - Python to IDL Bridge</title><link>/2015/11/example-python-to-idl-bridge/</link><description>&lt;p&gt;The Python to IDL bridge provides a mechanism for calling IDL code from Python[1]. &lt;/p&gt;
&lt;p&gt;? How to do it without launching ENVI ?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;idlpy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;IDL&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!-- more --&gt;

&lt;ul&gt;
&lt;li&gt;Get the file, read it as Raster and view it in ENVI&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;e = IDL.ENVI() # The Envi window will be popped out
File = &amp;quot;C:\\Program Files\\Exelis53\\envi53\\data\\qb_boulder_msi&amp;quot;
raster1 = e.OpenRaster(File)
view1 = e.GetView()
layer1 = view1.CreateLayer(raster1)
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Raster Convert to Array. In this section, How to put parameters to the GetData() method?&lt;br /&gt;
an alternative way to subset the original data is to process the output 'data', and its type is &lt;em&gt;numpy.ndarray&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;#data = raster1.GetData(&amp;quot;BANDS=[0], SUB_RECT=[100,449,550,899]&amp;quot;) #didn&amp;#39;t work
data = raster1.GetData()
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Array to Raster&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;new_raster = IDL.ENVIRaster(data)
new_raster.save()
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Perform MNF Transform&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Task = IDL.ENVITask(&amp;#39;ForwardMNFTransform&amp;#39;) 
Task.INPUT_RASTER = new_raster 
Task.OUTPUT_RASTER_URI = e.GetTemporaryFilename() 
Task.Execute()
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;View the MNF result in ENVI&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;DataColl = e.Data
DataColl.Add(Task.Output_Raster)
View1 = e.GetView()
Layer1 = View1.CreateLayer(Task.Output_Raster)
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;References&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;1.http://www.exelisvis.com/docs/pythontoidl.html&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Lanfa</dc:creator><pubDate>Wed, 25 Nov 2015 13:00:00 +0800</pubDate><guid>tag:,2015-11-25:2015/11/example-python-to-idl-bridge/</guid><category>IDL</category><category>python</category><category>MNF</category></item><item><title>Example - MNF Transform using IDL</title><link>/2015/11/example-mnf-transform-using-idl/</link><description>&lt;p&gt;Ipython + IDL environment setup [1]&lt;/p&gt;
&lt;p&gt;the following codes were written in Ipython, using ENVI API...&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Get the file, read it as Raster and view it in ENVI&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;e = ENVI()
file1 = FILEPATH(&amp;#39;qb_boulder_msi&amp;#39;, ROOT_DIR=e.ROOT_DIR, $
  SUBDIRECTORY = [&amp;#39;data&amp;#39;])
raster1 = e.OpenRaster(file1)
view1 = e.GetView()
layer1 = view1.CreateLayer(raster1)
&lt;/pre&gt;&lt;/div&gt;


&lt;!-- more --&gt;

&lt;ul&gt;
&lt;li&gt;Get the subset and return an Array&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;data = raster1.GetData(BANDS=[0,1,2,3], SUB_RECT=[100,449,550,899])
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Convert Array to Raster &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;new_raster = ENVIRaster(data)
new_raster.Save
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Perform MNF Transform on the subset data&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Task = ENVITask(&amp;#39;ForwardMNFTransform&amp;#39;) 
Task.INPUT_RASTER = new_raster 
Task.OUTPUT_RASTER_URI = e.GetTemporaryFilename() 
Task.Execute
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;View the MNF result in ENVI&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;DataColl = e.Data

; Add the output to the data collection
DataColl.Add, Task.Output_Raster

; Display the result
View1 = e.GetView()
Layer1 = View1.CreateLayer(Task.Output_Raster)
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;References:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;https://www.exelisvis.com/docs/idl_kernel.html&lt;/li&gt;
&lt;li&gt;https://www.exelisvis.com/docs/envi__openraster.html&lt;/li&gt;
&lt;li&gt;http://www.exelisvis.com/docs/enviRaster__GetData.html&lt;/li&gt;
&lt;li&gt;https://www.exelisvis.com/docs/enviforwardmnftransformtask.html&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Lanfa</dc:creator><pubDate>Wed, 25 Nov 2015 12:00:00 +0800</pubDate><guid>tag:,2015-11-25:2015/11/example-mnf-transform-using-idl/</guid><category>IDL</category><category>python</category><category>MNF</category></item><item><title>Setup the blog</title><link>/2015/11/setup-the-blog/</link><description>&lt;p&gt;This blog is hosted by GitHub Pages Using Pelican.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;pelican C:/githubBlog/blogPelican/content -o C:/githubBlog/blogPelican/output -s C:\githubBlog/blogPelican/pelicanconf.py

cd C:/githubBlog/blogPelican/output

python -m pelican.server
&lt;/pre&gt;&lt;/div&gt;


&lt;!-- more --&gt;

&lt;p&gt;publish to the GitHub (didn't work on me)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;git init
git remote add origin https://github.com/lanfa/lanfa.github.io.git
git remote rm origin
git add --all
git commit -m &amp;quot;commit message&amp;quot;
git push origin master
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;references&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;http://www.wengweitao.com/shi-yong-pelican-github-pagesda-jian-ge-ren-bo-ke.html
http://allotory.github.io/posts/2014/09/08/pelican-install/
http://www.xycoding.com/articles/2013/11/21/blog-create/&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Theme&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;http://kenmercuslai.github.io&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Lanfa</dc:creator><pubDate>Mon, 23 Nov 2015 00:00:00 +0800</pubDate><guid>tag:,2015-11-23:2015/11/setup-the-blog/</guid></item></channel></rss>